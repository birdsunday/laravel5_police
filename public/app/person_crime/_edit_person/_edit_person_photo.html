<div class="" ng-controller="PhotoController as pc">



    <div class="row">
        <div class="col-xs-12 col-sm-12">
            <div class="box">

                <div class="box-content">
                    <h4 class="page-header">รูปภาพ</h4>
                    <form class="form-horizontal" role="form">
                        <div class="form-group">
                            <button  type="button" class="ui positive submit button"  ng-click="pc.printphoto()" target = "_blank">
                                พิมพ์รูปภาพ
                            </button>
                        </div>


                        <div class="form-group">
                            <div class="field" flow-init flow-object="myFlow"
                                 flow-file-success="$file.msg = $message"
                                 flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
                                 flow-file-success="flowSuccess($file,$message)" align="center">


                                <div class="container">
                                    <hr class="soften"/>

                                    <div>
                                        <button  class="btn btn-primary" ng-hide="$flow.files.length"
                                                 flow-btn flow-attrs="{accept:'image/*'}">Select image</button>
                                        <button  class="btn btn-warning" ng-show="$flow.files.length"
                                                 flow-btn flow-attrs="{accept:'image/*'}">Change</button>
                                        <button  class="btn btn-success" ng-show="$flow.files.length"
                                                 ng-click="pc.uploadFile()">Apply Image</button>
                                        <button  class="btn btn-danger"  ng-if="!file.isComplete()" ng-click="cancelFile(file)">
                                            Remove
                                        </button>

                                    </div>


                                    <br>
                                    <p>
                                        Only PNG,GIF,JPG files allowed.
                                    </p>

                                    <div>
                                        <div ng-if="$flow.files.length==0 &&  !person.photo" class="">
                                            <img src="/img/square-image.png" width="400" height="300"/>
                                        </div>

                                        <div ng-if="$flow.files.length==0 && person.photo" class="">
                                            <img ng-src="<% person.photo %>" width="256" height="256"/>
                                            <div id="simple_gallery" class="box-content">
                                                <a class="fancybox" ng-href="<% person.photo %>" title="<% person.name %> <% person.surname %>">
                                                    <img ng-src="<% person.photo %>" alt="" width="256" height="256" />
                                                </a>

                                            </div>
                                        </div>



                                        <div ng-repeat="file in myFlow.files">

                                            <div class="">
                                                <a ng-if="file.isComplete()" href="#" class="">
                                                    <i class=""></i>
                                                </a>
                                                <img flow-img="file"width="400" height="300"/>
                                                <div class="" ng-if="file.isUploading()">
                                                    <div class="" data-percent="<% file.progress() %>"></div>
                                                </div>
                                            </div>
                                            <br/>
                                            <tr ng-repeat="file in $flow.files">
                                                <td>ชื่อไฟล์ <% file.name %></td>
                                            </tr>


                                        </div>

                                        <br>



                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>



</div>
